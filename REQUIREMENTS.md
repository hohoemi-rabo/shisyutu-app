# 支出管理アプリ要件定義書

## 1. アプリ概要

### 1.1 コンセプト

「シンプルで使いやすい」をコンセプトにした支出記録アプリ。複雑な機能を排除し、日々の支出を素早く記録することに特化。

### 1.2 ターゲットユーザー

20 代〜50 代の、シンプルな支出管理を求めるユーザー

### 1.3 主要機能

- 支出の記録（カテゴリ選択 + 金額入力）
- 今日の支出表示
- 今月の合計表示
- カテゴリ別集計表示

## 2. 機能要件

### 2.1 支出記録機能

- **入力フロー**

  1. カテゴリをドロップダウンから選択
  2. 金額を入力
  3. Enter/完了キーで即座に保存
  4. 保存後、金額フィールドは自動クリア

- **カテゴリ**

  - 食費 🍽️
  - 交通費 🚃
  - 日用品 🧺
  - 娯楽 🎮
  - その他 📦

- **金額入力**
  - 上限：1,000,000 円
  - 0 円の入力も可能
  - 1 円単位で入力

### 2.2 表示機能

- **メイン画面構成**

  - 上部：入力エリア（カテゴリ選択 + 金額入力）
  - 中部：今日の支出リスト
  - 下部：集計情報（今月合計、今日合計、カテゴリ別合計）

- **支出リスト**
  - 古い順（上から下へ）に表示
  - 各項目に編集・削除ボタン
  - カテゴリアイコン、金額、時刻を表示

### 2.3 編集・削除機能

- **編集可能範囲**：今月の全データ
- **削除**：個別削除のみ（一括削除なし）
- **操作方法**：各項目の編集・削除ボタンから実行

### 2.4 データリセット

- 月が変わったら自動的に前月データを削除
- 手動リセット機能なし

## 3. 非機能要件

### 3.1 UI/UX 要件

- **デザインテーマ**

  - ライトモード：白基調のシンプルデザイン
  - ダークモード対応
  - フォントサイズ：大きめ（見やすさ重視）

- **操作性**
  - 入力完了時にアニメーション表示
  - 確認画面なしの即座保存
  - レスポンシブデザイン

### 3.2 パフォーマンス要件

- アプリ起動：3 秒以内
- データ保存：即座に反映
- 画面遷移なしの単一画面構成

## 4. 技術仕様

### 4.1 開発環境

- **フレームワーク**：Expo (React Native)
- **対応プラットフォーム**：iOS, Android
- **開発ツール**：Claude Code 使用

### 4.2 技術スタック

- **フレームワーク**: Expo (React Native)
- **対応プラットフォーム**: iOS, Android
- **言語**: JavaScript/TypeScript
- **状態管理**: React Hooks (useState, useEffect)
- **UI コンポーネント**: React Native Elements
- **アイコン**: Expo Vector Icons
- **ストレージ**: AsyncStorage
- **日付処理**: JavaScript Date API

### 4.3 データ管理

- **ストレージ**：AsyncStorage（ローカルストレージ）
- **データベース**：不使用（将来的に移行予定）

### 4.3 データ構造

```javascript
{
  "expenses_YYYY_MM": {
    "records": [
      {
        "id": "timestamp_xxxxx",
        "date": "YYYY-MM-DD",
        "amount": 0,
        "category": "food|transport|daily|entertainment|other",
        "timestamp": xxxxx,
        "synced": false
      }
    ],
    "totals": {
      "month": 0,
      "today": 0,
      "byCategory": {
        "food": 0,
        "transport": 0,
        "daily": 0,
        "entertainment": 0,
        "other": 0
      }
    }
  }
}
```

## 5. エラー処理

### 5.1 入力バリデーション

- 金額未入力時：「金額を入力してください」と表示
- 上限超過時：「100 万円以下で入力してください」と表示

### 5.2 オフライン対応

- 基本機能は全てオフラインで動作
- オフライン時は画面上部に「オフラインモード」と控えめに表示
- 将来の同期機能のため、各レコードに`synced`フラグを保持

## 6. 将来の拡張予定

### 6.1 検討中の機能

- 月末データのエクスポート機能（メール送信）
- カテゴリのカスタマイズ
- 一括削除機能
- データベースへの移行
- 複数端末での同期機能

### 6.2 拡張時の考慮事項

- 現在のシンプルさを維持
- 必要最小限の機能追加に留める
- ユーザーの選択肢を増やさない

## 7. 制約事項

- 過去月のデータは閲覧不可
- 予算設定機能なし
- グラフ表示機能なし
- 検索機能なし
- 通知機能なし
